#!/bin/bash

# Default values
WORKLOAD="llama.cpp"
BASE=()

# Get the arguments
while getopts "x:l:b:w:" arg; do
  case $arg in
    l) WORKLOAD=$OPTARG;;
    b) BASE+=("$OPTARG");;
    *) ;;
  esac
done

if [[ "$WORKLOAD" == "cypress-realworld-app" ]]; then
  npx kill-port 3000
fi

# Remove the docker images of this experiment
for i in "${BASE[@]}"; do
  docker rmi "${WORKLOAD}"-"${i}"
done