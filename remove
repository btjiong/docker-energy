#!/bin/bash

# Default values
WORKLOAD="llama.cpp"
BASE=()

# Get the arguments
while getopts "l:b:x:o:c:i:j" arg; do
  case $arg in
    l) WORKLOAD=$OPTARG;;
    b) BASE+=("$OPTARG");;
    *) ;;
  esac
done

if [[ "$WORKLOAD" == "cypress-realworld-app" ]]; then
  # kill "$(lsof -t -i:3000)"
  docker rmi cypress-realworld-app-react
elif [[ "$WORKLOAD" == "mattermost" ]]; then
  docker rmi mattermost-db
fi

# Remove the docker images of this experiment
for i in "${BASE[@]}"; do
  docker rmi "${WORKLOAD}"-"${i/:/}"
done